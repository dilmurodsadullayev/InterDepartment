{% extends 'main/base.html' %}
{% block title %} Bosh sahifa {% endblock title %}


{% block content %}
            <div class="carousel-container">
        <div class="carousel-viewport">
            <div class="carousel-track">
                <!-- Slide 1 -->
                <div class="carousel-slide" style="background-image: url('https://via.placeholder.com/1200x400/ADD8E6/000000?text=Beautiful+Banner+1');">
                    <div class="slide-content">
                        <h2>Slide Title 1</h2>
                        <p>Some descriptive text for the first banner.</p>
                    </div>
                </div>
                <!-- Slide 2 -->
                <div class="carousel-slide" style="background-image: url('https://via.placeholder.com/1200x400/90EE90/000000?text=Awesome+Feature+2');">
                     <div class="slide-content">
                        <h2>Slide Title 2</h2>
                        <p>Highlighting another great feature here.</p>
                    </div>
                </div>
                <!-- Slide 3 -->
                <div class="carousel-slide" style="background-image: url('https://via.placeholder.com/1200x400/FFB6C1/000000?text=Showcase+Item+3');">
                     <div class="slide-content">
                        <h2>Slide Title 3</h2>
                        <p>Details about the third showcased item.</p>
                    </div>
                </div>
                 <!-- Slide 4 (Example with different content) -->
                <div class="carousel-slide" style="background-color: #f0e68c;"> <!-- Solid color fallback -->
                     <div class="slide-content text-dark"> <!-- Add text-dark class if bg is light -->
                        <h2>Slide Title 4</h2>
                        <p>A slide using a background color.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Carousel Navigation Buttons -->
        <button class="carousel-button prev" aria-label="Previous Slide">❮</button>
        <button class="carousel-button next" aria-label="Next Slide">❯</button>

        <!-- Carousel Navigation Dots -->
        <div class="carousel-nav">
            <!-- Dots will be generated by JS -->
        </div>
    </div>
        <div class="container">
             <section class="education-stats">
                  <h3 class="section-title"> O'zbekistonda ta'lim <span class="highlight">raqamlarda</span> </h3>

                  <div class="stats-cards">

                    <div class="stat-card">
                      <div class="icon-box">
                        <i class="fas fa-university"></i>
                      </div>
                      <h4>OLIY TA'LIM MUASSASALARI</h4>
                      <div class="number">206</div>
                      <p>Veb portaldagi oliy ta'lim tashkilotlar soni</p>
                    </div>

                    <div class="stat-card">
                      <div class="icon-box">
                        <i class="fas fa-user-graduate"></i>
                      </div>
                      <h4>O'ZBEKISTONDAGI XORIJIY TALABALAR SONI</h4>
                      <div class="number">34 760</div>
                      <p>O'zbekiston ta'lim olayotgan jami xorijiy talabalar soni</p>
                    </div>

                    <div class="stat-card">
                      <div class="icon-box">
                        <i class="fas fa-chart-bar"></i>
                      </div>
                      <h4>TA'LIM DASTURLARI</h4>
                      <div class="number">3 390</div>
                      <p>Veb-portaldagi ta'lim dasturlari soni</p>
                    </div>

                  </div>
              </section>
 </div>


 <div class="abovt">
    <div class="container">
      <div class="abovt-start">
        <div class="abovt-text">
          <h4>O'zbekiston haqida</h4>
          <p>
            O'zbekiston haqida qiziqarli ma'lumotlar. Markaziy Osiyo yuragida joylashgan
            O‘zbekiston Respublikasi o‘zining ko‘plab meʼmoriy yodgorliklari, tabiiy
            landshaftlari, saroylari, sivilizatsiya merosi, madaniy tadbirlari, gastronomik
            zavqlari va hunarmandchilik ustaxonalari bilan mashhur. Birinchi tashrifingizdan
            mamlakatimiz sizda yana va yana bu yerga kelishga undaydigan tuyg‘ularni uyg‘otadi.
          </p>
          <div class="abovt-button">
            <button>Batafsil</button>
          </div>
        </div>

        <div class="abovt-video">
          <iframe
            src="https://www.youtube.com/embed/JpEOyXGGi8I"
            title="Study in Uzbekistan"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
          ></iframe>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="step">
        <div class="step">
            <h3 class="section-title"> O‘qishga qabul qilish uchun 5 qadamx </h3>

           <div class="cards">
            <div class="levl">
                <h4>Ta’lim dasturini va  <br>universitetni tanlang</h4>
                <div class="card-text">
                    <p>01</p>
                    <i class="fa-solid fa-arrow-right"></i>
                </div>
            </div>
            <div class="levl">
                <div class="card-text">
                    <p>02</p>
                    <i class="fa-solid fa-arrow-right"></i>
                </div>
                <h4>Universitetga onlayn ariza yuboring</h4>
            </div>
            <div class="levl">
                <h4>Talab etilgan hujjatlarni yuboring</h4>
                <div class="card-text">
                    <p>03</p>
                    <i class="fa-solid fa-arrow-right"></i>
                </div>
            </div>
            <div class="levl">
                <div class="card-text">
                    <p>04</p>
                    <i class="fa-solid fa-arrow-right"></i>
                </div>
                <h4>Belgilangan tartibda suhbatda ishtirok eting</h4>
            </div>
            <div class="levl">
                <h4>TQabul qilishni rasmiylashtirish va to‘lovni amalga</h4>
                <div class="card-text">
                    <p>05</p>
                    <i class="fa-solid fa-arrow-right"></i>
                </div>
            </div>
           </div>


        </div>


    </div>
  </div>


    <script>
    document.addEventListener('DOMContentLoaded', () => {

    // ====== Language Selector Logic (Existing) ======
    const langSelector = document.getElementById('lang-selector');
    // ... (keep all existing language selector JS variables and listeners) ...
    const selectedInfo = document.getElementById('selected-info'); // Info paragraph

    if (langSelector) { // Check if language selector exists before adding listeners
        const currentLangBtn = document.getElementById('current-lang-btn');
        const currentFlag = document.getElementById('current-flag');
        const currentLangCode = document.getElementById('current-lang-code');
        const langList = document.getElementById('lang-list');
        const langOptions = langList.querySelectorAll('a');

        // 1. Toggle dropdown visibility
        currentLangBtn.addEventListener('click', (event) => {
            event.stopPropagation();
            langSelector.classList.toggle('open');
        });

        // 2. Handle language selection
        langOptions.forEach(option => {
            option.addEventListener('click', (event) => {
                event.preventDefault();
                const selectedLang = option.getAttribute('data-lang');
                const selectedFlag = option.getAttribute('data-flag');
                const selectedCodeText = option.textContent.trim().split(' ').pop();

                currentFlag.textContent = selectedFlag;
                currentLangCode.textContent = selectedCodeText;
                langSelector.classList.remove('open');

                console.log(`Language selected: ${selectedLang}`);
                selectedInfo.textContent = `Selected Language: ${selectedCodeText} (${selectedLang})`;
            });
        });

        // 3. Close dropdown when clicking outside
        document.addEventListener('click', (event) => {
            if (!langSelector.contains(event.target)) {
                langSelector.classList.remove('open');
            }
        });
    } // End if langSelector exists


    // ====== Carousel Logic ======
    const carouselTrack = document.querySelector('.carousel-track');

    // Only run carousel JS if the track element exists
    if (carouselTrack) {
        const slides = Array.from(carouselTrack.children);
        const nextButton = document.querySelector('.carousel-button.next');
        const prevButton = document.querySelector('.carousel-button.prev');
        const dotsNav = document.querySelector('.carousel-nav');
        const slideWidth = slides[0].getBoundingClientRect().width;

        // --- Auto Generate Dots ---
        slides.forEach((slide, index) => {
            const dot = document.createElement('button');
            dot.classList.add('carousel-dot');
            if (index === 0) dot.classList.add('active'); // Mark first dot active initially
            dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
            dotsNav.appendChild(dot);
        });
        const dots = Array.from(dotsNav.children); // Get the generated dots

        // --- Arrange slides next to each other ---
        // Not strictly necessary with flexbox, but useful for reference or complex calcs
        // slides.forEach((slide, index) => {
        //     slide.style.left = slideWidth * index + 'px';
        // });

        // --- Utility Functions ---
        const moveToSlide = (track, currentSlide, targetSlide) => {
            track.style.transform = 'translateX(-' + targetSlide.style.left + ')'; // Assumes 'left' style was set
            // OR, simpler with flexbox index:
            const targetIndex = slides.findIndex(slide => slide === targetSlide);
            track.style.transform = `translateX(-${targetIndex * 100}%)`;

            currentSlide.classList.remove('active'); // Note: We aren't using active class on slides here
            targetSlide.classList.add('active'); // Add if needed for slide-specific styling

            // Update dots
            const currentDot = dotsNav.querySelector('.active');
            const targetDot = dots[targetIndex];
            if (currentDot) currentDot.classList.remove('active');
            if (targetDot) targetDot.classList.add('active');
        }

        const updateDots = (currentDot, targetDot) => {
            currentDot.classList.remove('active');
            targetDot.classList.add('active');
        }

        const getCurrentIndex = () => {
            return slides.findIndex(slide => slide.classList.contains('active')); // Or use dot index
             // OR safer: find the active dot's index
            const activeDot = dotsNav.querySelector('.active');
            return dots.findIndex(dot => dot === activeDot);
        }


        // --- Event Listeners ---

        // Next Button
        nextButton.addEventListener('click', e => {
            let currentSlideIndex = getCurrentIndex();
            let nextIndex = currentSlideIndex + 1;
            if (nextIndex >= slides.length) {
                nextIndex = 0; // Loop back to start
            }
            moveToSlide(carouselTrack, slides[currentSlideIndex], slides[nextIndex]);
        });

        // Previous Button
        prevButton.addEventListener('click', e => {
             let currentSlideIndex = getCurrentIndex();
            let prevIndex = currentSlideIndex - 1;
            if (prevIndex < 0) {
                prevIndex = slides.length - 1; // Loop back to end
            }
             moveToSlide(carouselTrack, slides[currentSlideIndex], slides[prevIndex]);
        });

        // Navigation Dots
        dotsNav.addEventListener('click', e => {
            const targetDot = e.target.closest('button.carousel-dot');
            if (!targetDot) return; // Exit if click wasn't on a dot

            let currentSlideIndex = getCurrentIndex();
            const targetIndex = dots.findIndex(dot => dot === targetDot);

            if (targetIndex === currentSlideIndex) return; // Do nothing if clicking the active dot

            moveToSlide(carouselTrack, slides[currentSlideIndex], slides[targetIndex]);
        });

        // --- Initial Setup ---
        // Set first slide active (needed for getCurrentIndex based on dots)
        if (slides.length > 0) {
            // slides[0].classList.add('active'); // Optional for slide styling
             moveToSlide(carouselTrack, slides[0], slides[0]); // Move to first slide (sets transform and active dot)
        }

        // --- Optional: Auto-play ---
        let autoPlayInterval = null;
        const autoPlayDelay = 5000; // 5 seconds

        function startAutoPlay() {
             if (autoPlayInterval) clearInterval(autoPlayInterval); // Clear existing interval if any
             autoPlayInterval = setInterval(() => {
                 nextButton.click(); // Simulate a click on the next button
             }, autoPlayDelay);
        }

         function stopAutoPlay() {
             clearInterval(autoPlayInterval);
             autoPlayInterval = null;
         }

         // Start autoplay initially
         startAutoPlay();

         // Pause on hover
         const container = document.querySelector('.carousel-container');
         container.addEventListener('mouseenter', stopAutoPlay);
         container.addEventListener('mouseleave', startAutoPlay);
         // Also pause if user interacts with buttons/dots
         nextButton.addEventListener('click', stopAutoPlay);
         prevButton.addEventListener('click', stopAutoPlay);
         dotsNav.addEventListener('click', stopAutoPlay);
         // Maybe restart autoplay after manual interaction (add a timeout if desired)

         // --- Optional: Recalculate on Resize (important if not using % width) ---
         // Since we use percentage translateX, it adapts automatically.
         // If using pixel-based translation, you'd need a resize listener:
         /*
         window.addEventListener('resize', () => {
             const newSlideWidth = slides[0].getBoundingClientRect().width;
             const currentIndex = getCurrentIndex();
             // Temporarily remove transition for instant jump
             carouselTrack.style.transition = 'none';
             carouselTrack.style.transform = `translateX(-${currentIndex * newSlideWidth}px)`;
             // Force reflow/repaint (might be needed in some browsers)
             carouselTrack.offsetHeight;
             // Restore transition
             carouselTrack.style.transition = 'transform 0.5s ease-in-out';

             // Update slide positions if they were set with style.left
             // slides.forEach((slide, index) => { slide.style.left = newSlideWidth * index + 'px'; });
         });
         */

    } // End if carouselTrack exists

}); // End DOMContentLoaded
    </script>
{% endblock content %}